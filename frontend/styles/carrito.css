/* ======================================================================
   Woof & Barf ¬∑ Carrito ‚Äî CSS con paleta de marca integrada (Bootstrap 5)
   ====================================================================== */

/* Fuentes */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Inter:wght@400;600;700&display=swap');

/* ---------- Variables de marca (override) ---------- */
:root{
  /* Paleta */
  --brand-red:#BF0413;
  --brand-green:#95A617;
  --brand-yellow:#F2A413;
  --brand-orange:#F27405;
  --brand-burnt:#BF5111;
  --brand-dark:#282828;

  /* Bootstrap roles (se√±ales y utilidades) */
  --bs-primary:var(--brand-green);
  --bs-secondary:var(--brand-yellow);
  --bs-success:var(--brand-green);
  --bs-warning:var(--brand-orange);
  --bs-danger:var(--brand-red);
  --bs-info:#c8d0a8;

  --bs-primary-rgb:149,166,23;
  --bs-secondary-rgb:242,164,19;
  --bs-success-rgb:149,166,23;
  --bs-warning-rgb:242,116,5;
  --bs-danger-rgb:191,4,19;
  --bs-info-rgb:200,208,168;

  /* Base UI */
  --bg-1:#1f1f1f;
  --bg-2:var(--brand-dark);
  --card:rgba(255,255,255,0.06);
  --stroke:rgba(255,255,255,0.14);
  --glow:0 0 0 rgba(0,0,0,0), 0 0 24px color-mix(in srgb, var(--bs-primary) 55%, transparent), 0 0 48px color-mix(in srgb, var(--bs-secondary) 25%, transparent);
}

/* ---------- Reset suave + tipograf√≠a ---------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  color:#f2f4ef;
  background:
    radial-gradient(1200px 600px at 10% -10%, color-mix(in srgb, var(--bs-primary) 18%, transparent), transparent 60%),
    radial-gradient(900px 500px at 90% 0%, color-mix(in srgb, var(--bs-secondary) 18%, transparent), transparent 60%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  overflow-x:hidden;
}

/* Scrollbar */
::-webkit-scrollbar{ height:10px; width:10px; }
::-webkit-scrollbar-thumb{
  background:linear-gradient(180deg, var(--bs-secondary), var(--bs-primary));
  border-radius:999px;
}
::-webkit-scrollbar-track{ background:rgba(255,255,255,.04); }

/* =================== Layout base =================== */

/* Contador autom√°tico de items (fallback visual; el JS ya actualiza badge con cantidades) */
.contenedor-carrito{ counter-reset:cartItems; }
.carrito-productos .producto-item{ counter-increment:cartItems; }

/* Barra retorno + t√≠tulo */
.nav-retorno{
  position:sticky; top:0; z-index:30;
  display:flex; align-items:center; gap:1rem;
  padding:1.25rem 1.5rem;
  background:linear-gradient(180deg, rgba(31,31,31,.95), rgba(31,31,31,.5));
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--stroke);
  animation:dropFade .5s ease both;
}
.btn-regresar{
  display:inline-flex; align-items:center; gap:.5rem;
  text-decoration:none; color:var(--bs-info);
  font-weight:600;
  padding:.5rem .75rem; border:1px solid var(--stroke);
  border-radius:.75rem; transition:.25s ease;
}
.btn-regresar:hover{
  color:var(--brand-dark); background:var(--bs-info);
  box-shadow:var(--glow); transform:translateY(-1px);
}
.titulo-pagina{
  margin:0; font:700 1.75rem/1 Orbitron, sans-serif; letter-spacing:.02em; padding-left:.25rem;
}
/* Badge por CSS (el JS lo reemplaza por <span> din√°mico) */
.titulo-pagina::after{
  content:"üõí " counter(cartItems);
  display:inline-flex; align-items:center; justify-content:center;
  margin-left:.75rem;
  font:700 .95rem/1 Inter, sans-serif;
  color:#0b1020; background:var(--bs-success);
  border-radius:999px; padding:.4rem .7rem;
  border:1px solid rgba(0,0,0,.2);
  box-shadow:0 6px 12px rgba(46,242,162,.35);
  transform:translateY(-2px);
}

/* Grid principal */
.contenedor-carrito{
  max-width:1200px; margin:1.5rem auto 3rem; padding:0 1rem;
  display:grid; grid-template-columns:minmax(0,1.4fr) minmax(280px,.9fr);
  gap:2rem; animation:rise .6s ease .1s both;
}

/* =================== Productos =================== */
.carrito-productos{ display:grid; gap:1rem; }
.producto-item{
  display:grid; grid-template-columns:104px 1fr auto; align-items:center; gap:1rem;
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:1rem; overflow:hidden; position:relative; isolation:isolate;
  box-shadow:0 8px 30px rgba(0,0,0,.25);
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.producto-item::before{
  content:""; position:absolute; inset:-2px; border-radius:inherit; padding:2px;
  background:conic-gradient(from 0deg,
    color-mix(in srgb, var(--bs-primary) 0%, transparent),
    color-mix(in srgb, var(--bs-primary) 85%, transparent),
    color-mix(in srgb, var(--bs-secondary) 85%, transparent),
    color-mix(in srgb, var(--bs-primary) 85%, transparent),
    color-mix(in srgb, var(--bs-primary) 0%, transparent));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  animation:spin 6s linear infinite; opacity:.25; z-index:-1;
}
.producto-item:hover{
  transform:translateY(-2px);
  box-shadow:0 16px 50px color-mix(in srgb, var(--bs-primary) 15%, transparent), 0 8px 22px rgba(0,0,0,.4);
  border-color:color-mix(in srgb, var(--bs-primary) 35%, transparent);
}

/* Imagen placeholder estilo wireframe */
.producto-img{
  width:96px; height:96px; object-fit:cover; border-radius:.7rem;
  background:
    linear-gradient(135deg, rgba(255,255,255,.12) 25%, transparent 25%) 0 0/12px 12px,
    linear-gradient(135deg, transparent 75%, rgba(255,255,255,.12) 75%) 0 0/12px 12px,
    rgba(255,255,255,.04);
  border:1px dashed rgba(255,255,255,.25);
  animation:shimmer 2.2s linear infinite;
}
.producto-descripcion p{ margin:0; color:rgba(242,244,239,.9); }

/* Stepper cantidad */
.producto-cantidad{
  display:grid; grid-auto-flow:column; align-items:center; gap:.35rem;
  padding:.35rem; border-radius:.75rem; background:rgba(255,255,255,.06);
  border:1px solid var(--stroke);
}
.producto-cantidad .btn-restar,
.producto-cantidad .btn-sumar{
  all:unset; display:grid; place-items:center;
  width:40px; height:40px; border-radius:.65rem;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border:1px solid var(--stroke); cursor:pointer; transition:.2s ease;
}
.producto-cantidad .btn-restar:hover,
.producto-cantidad .btn-sumar:hover{
  background:linear-gradient(180deg, var(--bs-secondary), var(--bs-primary));
  color:var(--brand-dark); box-shadow:var(--glow);
  transform:translateY(-1px) scale(1.02);
}
.input-cantidad{
  width:54px; height:40px; text-align:center; font-weight:700;
  border:1px solid var(--stroke); background:rgba(0,0,0,.25);
  color:#fff; border-radius:.65rem;
}

/* =================== Resumen =================== */
.resumen-compra{
  position:sticky; top:1rem; align-self:start;
  background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
  backdrop-filter:blur(10px);
  border:1px solid var(--stroke);
  border-radius:1.1rem; padding:1.25rem;
  box-shadow:0 8px 26px rgba(0,0,0,.35);
  animation:rise .7s ease .15s both;
}
.lista-resumen{
  list-style:none; margin:0 0 1rem; padding:0; display:grid; gap:.4rem;
}
.lista-resumen li{
  display:flex; align-items:center; justify-content:space-between;
  padding:.6rem .75rem; border:1px dashed var(--stroke);
  border-radius:.6rem; background:rgba(255,255,255,.02);
}
.lista-resumen li:last-child{
  background:linear-gradient(90deg,
    color-mix(in srgb, var(--bs-primary) 15%, transparent),
    color-mix(in srgb, var(--bs-secondary) 15%, transparent));
  font-weight:700; border-style:solid;
}

.resumen-botones{ display:grid; gap:.6rem; margin-top:.75rem; }
.btn-principal, .btn-secundario{
  --_grad:linear-gradient(90deg, var(--bs-secondary), var(--bs-primary));
  display:inline-block; width:100%;
  color:#05101e; font-weight:800; letter-spacing:.02em;
  padding:.85rem 1rem; border-radius:.9rem;
  border:1px solid rgba(0,0,0,.15); background:var(--_grad);
  box-shadow:0 12px 30px color-mix(in srgb, var(--bs-primary) 20%, transparent);
  cursor:pointer; transition:transform .15s ease, filter .2s ease, box-shadow .2s ease;
}
.btn-secundario{
  color:#f2f4ef; background:transparent; border:1px solid var(--stroke);
  backdrop-filter:blur(6px);
}
.btn-principal:hover{ filter:brightness(1.1); transform:translateY(-1px); box-shadow:var(--glow); }
.btn-secundario:hover{ border-color:color-mix(in srgb, var(--bs-primary) 40%, transparent); box-shadow:var(--glow); transform:translateY(-1px); }

/* ========== Env√≠o + Direcci√≥n ========== */
.entrega-direccion{ margin-top:1rem; display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
.metodo-entrega, .direccion-entrega{
  background:var(--card); border:1px solid var(--stroke);
  border-radius:1rem; padding:1rem;
  box-shadow:0 8px 26px rgba(0,0,0,.25); animation:rise .7s ease .2s both;
}
.titulo-seccion{ font:700 1.1rem/1 Orbitron, sans-serif; margin:0 0 .75rem; color:var(--bs-info); }
.opcion-entrega{
  display:grid; grid-template-columns:24px 1fr auto; align-items:center;
  gap:.75rem; padding:.6rem .7rem; border-radius:.7rem;
  border:1px dashed var(--stroke); background:rgba(255,255,255,.02);
  transition:.2s ease;
}
.opcion-entrega + .opcion-entrega{ margin-top:.6rem; }
.opcion-entrega:hover{ border-color:color-mix(in srgb, var(--bs-primary) 40%, transparent); transform:translateY(-1px); }
.opcion-entrega input[type="radio"]{ accent-color:var(--bs-primary); }
.precio-opcion{ font-weight:700; color:var(--bs-success); }
.fecha-entrega{ color:rgba(242,244,239,.75); }

.direccion-info{
  display:grid; grid-template-columns:24px 1fr; gap:.75rem;
  padding:.6rem .7rem; border-radius:.7rem;
  border:1px dashed var(--stroke); background:rgba(255,255,255,.02);
}
.direccion-info input[type="radio"]{ accent-color:var(--bs-secondary); }
.btn-agregar{
  margin-top:.75rem; padding:.6rem .9rem; border-radius:.7rem;
  color:#f2f4ef; background:transparent; border:1px solid var(--stroke);
  cursor:pointer; transition:.2s ease;
}
.btn-agregar:hover{
  background:linear-gradient(90deg,
    color-mix(in srgb, var(--bs-primary) 12%, transparent),
    color-mix(in srgb, var(--bs-secondary) 12%, transparent));
  border-color:color-mix(in srgb, var(--bs-primary) 40%, transparent);
  box-shadow:var(--glow);
}

/* ========== Progreso checkout ========== */
.progreso-compra{ margin:1.25rem 0; display:grid; place-items:center; }
.progreso-compra p{
  margin:0; padding:.5rem 1rem; border:1px dashed var(--stroke);
  border-radius:999px; background:rgba(255,255,255,.04);
  animation:pulse 1.6s ease-in-out infinite;
}

/* ========== Galer√≠a inferior ========== */
.galeria-inferior{
  margin-top:1.5rem;
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border:1px solid var(--stroke); border-radius:1rem; padding:1rem;
  box-shadow:0 8px 26px rgba(0,0,0,.25);
}
.galeria-inferior .galeria-principal{
  display:grid; grid-template-columns:140px 1fr; gap:1rem; align-items:center; margin-bottom:1rem;
}
.img-relacionado{
  width:130px; height:90px; object-fit:cover; border-radius:.6rem;
  background:rgba(255,255,255,.05); border:1px solid var(--stroke);
}
.lista-descripcion{ list-style:none; margin:0; padding:0; display:grid; gap:.25rem; }
.lista-descripcion li{ color:rgba(242,244,239,.85); }

.galeria-secundaria{ display:grid; gap:.5rem; justify-items:start; }
.galeria-secundaria input[type="radio"]{
  appearance:none; width:14px; height:14px; border-radius:999px;
  border:2px solid var(--bs-secondary);
  box-shadow:inset 0 0 0 2px rgba(40,40,40,.85), 0 0 8px color-mix(in srgb, var(--bs-primary) 35%, transparent);
  cursor:pointer; transition:.2s ease;
}
.galeria-secundaria input[type="radio"]:checked{
  background:radial-gradient(circle at 50% 50%, var(--bs-secondary), var(--bs-primary));
  transform:scale(1.15);
}
.galeria-secundaria img{ display:none; width:180px; height:110px; object-fit:cover; border-radius:.6rem; border:1px solid var(--stroke); }
.galeria-secundaria input[type="radio"]:checked + img{ display:inline-block; animation:rise .4s ease both; }

.texto-inferior{ display:block; margin-top:.75rem; color:rgba(242,244,239,.65); text-align:center; }

/* ========== Animaciones ========== */
@keyframes dropFade{ from{opacity:0; transform:translateY(-8px);} to{opacity:1; transform:translateY(0);} }
@keyframes rise{ from{opacity:0; transform:translateY(8px);} to{opacity:1; transform:translateY(0);} }
@keyframes spin{ to{ transform:rotate(1turn);} }
@keyframes shimmer{ 0%{ background-position:-200% 0,0 0,0 0;} 100%{ background-position:200% 0,0 0,0 0;} }
@keyframes pulse{ 0%,100%{ transform:translateY(0); box-shadow:0 0 0 0 rgba(0,0,0,0);} 50%{ transform:translateY(-2px); box-shadow:0 0 18px 2px color-mix(in srgb, var(--bs-primary) 25%, transparent);} }

/* ========== Responsividad ========== */
@media (max-width:992px){
  .contenedor-carrito{ grid-template-columns:1fr; }
  .resumen-compra{ order:-1; }
  .entrega-direccion{ grid-template-columns:1fr; }
}
@media (max-width:520px){
  .producto-item{ grid-template-columns:84px 1fr auto; }
  .producto-img{ width:80px; height:80px; }
  .galeria-inferior .galeria-principal{ grid-template-columns:1fr; }
}

